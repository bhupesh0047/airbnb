<%- include('../partials/head') %>
</head>
<body class="bg-gray-50">
  <%- include('../partials/navHeader') %>
  
  <main class="container mx-auto py-12 px-4">
    <div class="bg-white shadow-xl rounded-2xl p-8 max-w-5xl mx-auto">
      <!-- Heading -->
      <div class="text-center mb-8">
        <h2 class="text-3xl font-bold text-gray-800 mb-2">
          <%= home.name %>
        </h2>
        <p class="text-gray-500 flex items-center justify-center">
          <i class="fas fa-map-marker-alt text-blue-500"></i>
          <span class="capitalize ml-2"><%= home.location %></span>
        </p>
      </div>

      <!-- Main content: image + details -->
      <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
        <!-- Left Column: Image + Download (Takes 2/3 of space) -->
        <div class="lg:col-span-3 space-y-4">
          <!-- Image container -->
          <div class="rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300">
            <img 
              src="<%= home.Photo %>" 
              alt="<%= home.name %>" 
              class="w-full h-[287px] object-cover rounded-lg transform hover:scale-105 transition-transform duration-500 hover:shadow-2xl"
            >
            
          </div>
          
          <!-- Download Rules - Moved below image -->
          <a 
            href="/download-rules/<%=home._id%>" 
            
            class="flex items-center justify-center gap-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 px-6 rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 font-medium shadow-md hover:shadow-xl group"
          >
            <i class="fas fa-file-download text-xl group-hover:animate-bounce"></i>
            <span>Download House Rules</span>
          </a>
        </div>

        <!-- Right Column: Details (Takes 1/3 of space) -->
        <div class="lg:col-span-2 space-y-4 self-start">
          <!-- Price Card -->
          <div class="bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-xl shadow-sm">
            <h3 class="text-base font-medium text-gray-700 mb-1">Price per night</h3>
            <p class="text-blue-600 text-2xl font-bold">$<%= home.price %></p>
          </div>

          <!-- Rating Card -->
          <div class="bg-gradient-to-r from-yellow-50 to-yellow-100 p-4 rounded-xl shadow-sm">
            <h3 class="text-base font-medium text-gray-700 mb-1">Rating</h3>
            <div class="flex items-center">
              <div class="flex">
                <% for(let i = 0; i < Math.floor(home.rating); i++) { %>
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" 
                    class="w-5 h-5 text-yellow-400">
                    <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
                  </svg>
                <% } %>
                <% for(let i = Math.floor(home.rating); i < 5; i++) { %>
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" 
                    class="w-5 h-5 text-gray-300">
                    <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
                  </svg>
                <% } %>
              </div>
              <span class="ml-2 text-sm font-medium text-gray-600">
                <%= home.rating %> out of 5
              </span>
            </div>
          </div>

          <!-- Description Card -->
          <div class="bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl shadow-sm">
            <h3 class="text-base font-medium text-gray-700 mb-1">About this place</h3>
            <p class="text-gray-600 text-sm leading-relaxed"><%= home.description %></p>
          </div>

          <!-- Favorite Button -->
          <div>
            <form action="/favorites" method="POST">
              <button 
                type="submit" 
                class="flex items-center justify-center gap-3 bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-300 font-medium shadow-md hover:shadow-xl group w-full"
              >
                <i class="fas fa-heart text-xl group-hover:scale-110 transition-transform"></i>
                Add to Favorites
              </button>
              <input type="hidden" name="id" value="<%=home._id%>" />
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
</body>
</html>